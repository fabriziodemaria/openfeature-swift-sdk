<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (100% documented)</p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/MutableContext.html">MutableContext</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MutableStructure.html">MutableStructure</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MutableStructure/ConversionError.html">– ConversionError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OpenFeatureAPI.html">OpenFeatureAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OpenFeatureClient.html">OpenFeatureClient</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OpenFeatureClient/ClientMetadata.html">– ClientMetadata</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ErrorCode.html">ErrorCode</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FlagValueType.html">FlagValueType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/OpenFeatureError.html">OpenFeatureError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Reason.html">Reason</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Value.html">Value</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int64.html">Int64</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AllowedFlagValueType.html">AllowedFlagValueType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/BaseEvaluation.html">BaseEvaluation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Client.html">Client</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/EvaluationContext.html">EvaluationContext</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FeatureProvider.html">FeatureProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Features.html">Features</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Hook.html">Hook</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Metadata.html">Metadata</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Structure.html">Structure</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/FlagEvaluationDetails.html">FlagEvaluationDetails</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:11OpenFeature21FlagEvaluationOptionsV">FlagEvaluationOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:11OpenFeature11HookContextV">HookContext</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ProviderEvaluation.html">ProviderEvaluation</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='openfeature-swift-sdk' class='heading'>OpenFeature Swift SDK</h1>

<p><img src="https://img.shields.io/badge/lifecycle-alpha-a0c3d2.svg" alt="Status"></p>

<p>What is OpenFeature?
<a href="https://openfeature.dev">OpenFeature</a> is an open standard that provides a vendor-agnostic, community-driven API for feature flagging that works with your favorite feature flag management tool.</p>

<p>Why standardize feature flags?
Standardizing feature flags unifies tools and vendors behind a common interface which avoids vendor lock-in at the code level. Additionally, it offers a framework for building extensions and integrations and allows providers to focus on their unique value proposition.</p>

<p>This Swift implementation of an OpenFeature SDK has been developed at Spotify, and currently made available and maintained within the Spotify Open Source Software organization. Part of our roadmap is for the OpenFeature community to evaluate this implementation and potentially include it in the existing ecosystem of <a href="https://openfeature.dev/docs/reference/technologies/">OpenFeature SDKs</a>.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>The minimum iOS version supported is: <code>iOS 14</code>.</li>
</ul>

<p>Note that this library is intended to be used in a mobile context, and has not been evaluated for use in other type of applications (e.g. server applications, macOS, tvOS, watchOS, etc.).</p>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='adding-the-package-dependency' class='heading'>Adding the package dependency</h3>

<p>If you manage dependencies through Xcode go to &ldquo;Add package&rdquo; and enter <code>git@github.com:spotify/openfeature-swift-sdk.git</code>.</p>

<p>If you manage dependencies through SPM, in the dependencies section of Package.swift add:</p>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"git@github.com:spotify/openfeature-swift-sdk.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"0.2.3"</span><span class="p">)</span>
</code></pre>

<p>and in the target dependencies section add:</p>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">product</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"OpenFeature"</span><span class="p">,</span> <span class="nv">package</span><span class="p">:</span> <span class="s">"openfeature-swift-sdk"</span><span class="p">),</span>
</code></pre>
<h3 id='resolving-a-flag' class='heading'>Resolving a flag</h3>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">OpenFeature</span>

<span class="c1">// Change NoOpProvider with your actual provider</span>
<span class="k">await</span> <span class="kt">OpenFeatureAPI</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setProvider</span><span class="p">(</span><span class="nv">provider</span><span class="p">:</span> <span class="kt">NoOpProvider</span><span class="p">())</span>

<span class="k">let</span> <span class="nv">ctx</span> <span class="o">=</span> <span class="kt">MutableContext</span><span class="p">(</span>
    <span class="nv">targetingKey</span><span class="p">:</span> <span class="n">userId</span><span class="p">,</span>
    <span class="nv">structure</span><span class="p">:</span> <span class="kt">MutableStructure</span><span class="p">(</span><span class="nv">attributes</span><span class="p">:</span> <span class="p">[</span><span class="s">"product"</span><span class="p">:</span> <span class="kt">Value</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="n">productId</span><span class="p">)]))</span>
<span class="k">await</span> <span class="kt">OpenFeatureAPI</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setEvaluationContext</span><span class="p">(</span><span class="nv">evaluationContext</span><span class="p">:</span> <span class="n">ctx</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="kt">OpenFeatureAPI</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">getClient</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">flagValue</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="nf">getBooleanValue</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"boolFlag"</span><span class="p">,</span> <span class="n">defaultValue</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
</code></pre>

<p>Setting a new provider or setting a new evaluation context are asynchronous operations. The provider might execute I/O operations as part of these method calls (e.g. fetching flag evaluations from the backend and store them in a local cache). It&rsquo;s advised to not interact with the OpenFeature client until the <code>setProvider()</code> or <code>setEvaluationContext()</code> functions have returned successfully.</p>

<p>Please refer to our <a href="https://github.com/open-feature/spec/pull/171">documentation on static-context APIs</a> for further information on how these APIs are structured for the use-case of mobile clients.</p>
<h3 id='providers' class='heading'>Providers</h3>

<p>To develop a provider, you need to create a new project and include the OpenFeature SDK as a dependency. You’ll then need to write the provider itself. This can be accomplished by implementing the <code><a href="Protocols/FeatureProvider.html">FeatureProvider</a></code> interface exported by the OpenFeature SDK.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2023 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2023-07-03)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
